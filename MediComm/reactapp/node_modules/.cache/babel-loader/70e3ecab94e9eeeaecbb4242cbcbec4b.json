{"ast":null,"code":"var _jsxFileName = \"/Applications/XAMPP/xamppfiles/htdocs/Projekte/MediComm/MediComm/MediComm/reactapp/src/content/Me.js\";\nimport React from 'react';\nimport Output from './Output';\nimport App from '../App';\nimport Cookies from 'js-cookie';\nimport jwt from 'jsonwebtoken';\nimport axios from 'axios';\n\nclass Me extends React.Component {\n  constructor() {\n    super();\n    this.username = \"test\";\n    this.state = {\n      count: 0,\n      data: [{\n        \"id\": 1,\n        \"name\": \"Schmidt\"\n      }, {\n        \"id\": 2,\n        \"name\": \"chmidt\"\n      }, {\n        \"id\": 3,\n        \"name\": \"hmidt\"\n      }, {\n        \"id\": 4,\n        \"name\": \"midt\"\n      }],\n      token: Cookies.get(\"token\"),\n      persons: [1, 2, 3],\n      mail: []\n    };\n    axios.defaults.headers.common['token'] = Cookies.get(\"token\");\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.updateData = this.updateData.bind(this);\n  }\n\n  updateData(event) {\n    /*var newItem = {\"id\":5, \"name\":name}\n    this.setState(state => {\n        const data = state.data.concat(newItem);\n        return data, newItem;\n    });*/\n    this.setState({\n      name: event.target.value\n    });\n  }\n\n  handleSubmit(event) {\n    this.setState({\n      sendForm: this.state.name\n    });\n    event.preventDefault();\n  }\n\n  setUsername(username) {\n    this.username = username;\n    console.log(\"username: \" + username);\n  }\n\n  componentDidMount() {\n    const url = 'http://localhost:5000/me';\n    const options = {\n      method: 'GET',\n      headers: {\n        'token': Cookies.get(\"token\")\n      }\n    };\n    axios.get(url, options).then(response => {\n      //console.log(response.json({message: \"request received!\", response}));\n      //this.state.mail = response.json({message: \"request received!\", response}).parse();\n      //console.log (response.json());\n      //this.state.mail = response.data.firstname;\n      //console.log(response.data);\n      //this.setUsername(response.data.firstname)\n      //this.setState(resp);\n      //console.log(response.data);\n      this.setState({\n        mail: response.data.firstname\n      });\n    });\n    /*fetch('http://localhost:8080/me')\n        .then(response => {\n            if (!response.ok) {\n                throw Error('Network request failed.')\n            }\n            return response;\n        })\n        .then(data => data.json())\n        .then(data => {\n            this.setState({\n                persons: data\n            });\n            console.log('parsed json', data);            \n        }, (ex) => {\n            this.setState({\n                requestError : true\n            });\n            console.log('parsing failed', ex)\n        })*/\n\n    /*axios.get('http://localhost:8080/me',\n    { headers: { 'token':  Cookies.get(\"token\") } }\n    ).then((data)=>{\n        console.log('data comming',data);\n    }).catch((error)=>{\n        console.log('error comming',error);\n    });*/\n  }\n\n  checkLogin(mail) {\n    return mail();\n    /*try {\n        const decoded = jwt.verify(this.state.token, \"randomString\");\n        //return \"it is: \" + decoded.user;\n        const user = User.findById(req.user.id);\n    } catch (e) {\n        console.error(e);\n    }*/\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"ul\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 13\n      }\n    }, this.state.mail, \" it is :)\");\n  }\n\n}\n\nexport default Me;","map":{"version":3,"sources":["/Applications/XAMPP/xamppfiles/htdocs/Projekte/MediComm/MediComm/MediComm/reactapp/src/content/Me.js"],"names":["React","Output","App","Cookies","jwt","axios","Me","Component","constructor","username","state","count","data","token","get","persons","mail","defaults","headers","common","handleSubmit","bind","updateData","event","setState","name","target","value","sendForm","preventDefault","setUsername","console","log","componentDidMount","url","options","method","then","response","firstname","checkLogin","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,GAAP,MAAgB,QAAhB;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAOC,GAAP,MAAgB,cAAhB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,EAAN,SAAiBN,KAAK,CAACO,SAAvB,CAAgC;AAI5BC,EAAAA,WAAW,GAAE;AACT;AADS,SAFbC,QAEa,GAFF,MAEE;AAET,SAAKC,KAAL,GAAa;AACTC,MAAAA,KAAK,EAAE,CADE;AAETC,MAAAA,IAAI,EAAE,CACF;AAAC,cAAK,CAAN;AAAS,gBAAO;AAAhB,OADE,EAEF;AAAC,cAAK,CAAN;AAAS,gBAAO;AAAhB,OAFE,EAGF;AAAC,cAAK,CAAN;AAAS,gBAAO;AAAhB,OAHE,EAIF;AAAC,cAAK,CAAN;AAAS,gBAAO;AAAhB,OAJE,CAFG;AAQTC,MAAAA,KAAK,EAAEV,OAAO,CAACW,GAAR,CAAY,OAAZ,CARE;AASTC,MAAAA,OAAO,EAAE,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,CATA;AAUTC,MAAAA,IAAI,EAAE;AAVG,KAAb;AAaAX,IAAAA,KAAK,CAACY,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,OAA9B,IAAyChB,OAAO,CAACW,GAAR,CAAY,OAAZ,CAAzC;AAGA,SAAKM,YAAL,GAAoB,KAAKA,YAAL,CAAkBC,IAAlB,CAAuB,IAAvB,CAApB;AACA,SAAKC,UAAL,GAAkB,KAAKA,UAAL,CAAgBD,IAAhB,CAAqB,IAArB,CAAlB;AAEH;;AAEDC,EAAAA,UAAU,CAACC,KAAD,EAAQ;AACd;;;;;AAKA,SAAKC,QAAL,CAAc;AAACC,MAAAA,IAAI,EAAEF,KAAK,CAACG,MAAN,CAAaC;AAApB,KAAd;AACH;;AAEDP,EAAAA,YAAY,CAACG,KAAD,EACZ;AACI,SAAKC,QAAL,CAAc;AAACI,MAAAA,QAAQ,EAAE,KAAKlB,KAAL,CAAWe;AAAtB,KAAd;AACAF,IAAAA,KAAK,CAACM,cAAN;AACH;;AAEDC,EAAAA,WAAW,CAACrB,QAAD,EACX;AACI,SAAKA,QAAL,GAAgBA,QAAhB;AACAsB,IAAAA,OAAO,CAACC,GAAR,CAAY,eAAevB,QAA3B;AACH;;AAEDwB,EAAAA,iBAAiB,GAAI;AACjB,UAAMC,GAAG,GAAG,0BAAZ;AACA,UAAMC,OAAO,GAAG;AAChBC,MAAAA,MAAM,EAAE,KADQ;AAEhBlB,MAAAA,OAAO,EAAE;AACL,iBAASf,OAAO,CAACW,GAAR,CAAY,OAAZ;AADJ;AAFO,KAAhB;AAOAT,IAAAA,KAAK,CAACS,GAAN,CAAUoB,GAAV,EAAeC,OAAf,EACCE,IADD,CACMC,QAAQ,IAAI;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAKd,QAAL,CAAc;AAACR,QAAAA,IAAI,EAAEsB,QAAQ,CAAC1B,IAAT,CAAc2B;AAArB,OAAd;AACH,KAXD;AAeA;;;;;;;;;;;;;;;;;;;;AAoBA;;;;;;;AAOH;;AAEDC,EAAAA,UAAU,CAACxB,IAAD,EACV;AAEQ,WAAOA,IAAI,EAAX;AAEA;;;;;;;AAOP;;AAEDyB,EAAAA,MAAM,GAAE;AAKJ,wBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEM,KAAK/B,KAAL,CAAWM,IAFjB,cADJ;AAOH;;AA/H2B;;AAkIhC,eAAeV,EAAf","sourcesContent":["import React from 'react';\nimport Output from './Output';\nimport App from '../App';\nimport Cookies from 'js-cookie';\nimport jwt from 'jsonwebtoken';\nimport axios from 'axios';\n\nclass Me extends React.Component{\n\n    username = \"test\";\n\n    constructor(){\n        super();\n        this.state = {\n            count: 0,\n            data: [\n                {\"id\":1, \"name\":\"Schmidt\"},\n                {\"id\":2, \"name\":\"chmidt\"},\n                {\"id\":3, \"name\":\"hmidt\"},\n                {\"id\":4, \"name\":\"midt\"},\n            ],\n            token: Cookies.get(\"token\"),\n            persons: [1, 2, 3],\n            mail: []\n        };\n        \n        axios.defaults.headers.common['token'] = Cookies.get(\"token\");\n        \n\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.updateData = this.updateData.bind(this);\n          \n    }\n\n    updateData(event) {\n        /*var newItem = {\"id\":5, \"name\":name}\n        this.setState(state => {\n            const data = state.data.concat(newItem);\n            return data, newItem;\n        });*/\n        this.setState({name: event.target.value});\n    }\n\n    handleSubmit(event)\n    {\n        this.setState({sendForm: this.state.name});\n        event.preventDefault();\n    }\n\n    setUsername(username)\n    {\n        this.username = username;\n        console.log(\"username: \" + username);\n    }\n\n    componentDidMount () {\n        const url = 'http://localhost:5000/me';\n        const options = {\n        method: 'GET',\n        headers: {\n            'token': Cookies.get(\"token\"),\n        },\n        };\n\n        axios.get(url, options)\n        .then(response => {\n            //console.log(response.json({message: \"request received!\", response}));\n            //this.state.mail = response.json({message: \"request received!\", response}).parse();\n            //console.log (response.json());\n            //this.state.mail = response.data.firstname;\n            //console.log(response.data);\n            //this.setUsername(response.data.firstname)\n            //this.setState(resp);\n            //console.log(response.data);\n            this.setState({mail: response.data.firstname});\n        });\n\n        \n\n        /*fetch('http://localhost:8080/me')\n            .then(response => {\n                if (!response.ok) {\n                    throw Error('Network request failed.')\n                }\n                return response;\n            })\n            .then(data => data.json())\n            .then(data => {\n                this.setState({\n                    persons: data\n                });\n                console.log('parsed json', data);            \n            }, (ex) => {\n                this.setState({\n                    requestError : true\n                });\n                console.log('parsing failed', ex)\n            })*/\n\n        /*axios.get('http://localhost:8080/me',\n        { headers: { 'token':  Cookies.get(\"token\") } }\n        ).then((data)=>{\n            console.log('data comming',data);\n        }).catch((error)=>{\n            console.log('error comming',error);\n        });*/\n    }  \n\n    checkLogin(mail)\n    {\n        \n            return mail()\n\n            /*try {\n                const decoded = jwt.verify(this.state.token, \"randomString\");\n                //return \"it is: \" + decoded.user;\n                const user = User.findById(req.user.id);\n            } catch (e) {\n                console.error(e);\n            }*/\n    }\n\n    render(){\n\n\n        \n        \n        return(\n            <ul>\n            \n                { this.state.mail } it is :)\n            \n            </ul>\n        );\n    }\n}\n\nexport default Me;"]},"metadata":{},"sourceType":"module"}