{"ast":null,"code":"var _jsxFileName = \"/Applications/XAMPP/xamppfiles/htdocs/Projekte/MediComm/MediComm/MediComm/reactapp/src/content/Me.js\";\nimport React from 'react';\nimport Output from './Output';\nimport App from '../App';\nimport Cookies from 'js-cookie';\nimport jwt from 'jsonwebtoken';\nimport axios from 'axios';\n\nclass Me extends React.Component {\n  constructor() {\n    super();\n    this.username = \"test\";\n    this.state = {\n      profilepic: '',\n      mail: '',\n      firstname: '',\n      lastname: '',\n      address: '',\n      phone: '',\n      mail: '',\n      fax: '',\n      url: '',\n      fieldofwork: '',\n      insurednumber: '',\n      healthinsurance: '',\n      insurednumber: '',\n      isDoc: ''\n    }; //always passing our token so the site can verify wether we're logged in or not\n\n    axios.defaults.headers.common['token'] = Cookies.get(\"token\");\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.updateData = this.updateData.bind(this);\n  }\n\n  updateData(event) {\n    /*var newItem = {\"id\":5, \"name\":name}\n    this.setState(state => {\n        const data = state.data.concat(newItem);\n        return data, newItem;\n    });*/\n    this.setState({\n      name: event.target.value\n    });\n  }\n\n  handleSubmit(event) {\n    this.setState({\n      sendForm: this.state.name\n    });\n    event.preventDefault();\n  }\n\n  setUsername(username) {\n    this.username = username;\n    console.log(\"username: \" + username);\n  } //using axios in here to get access to the response of our backend in our frontend\n\n\n  componentDidMount() {\n    const url = 'http://localhost:8080/me';\n    const options = {\n      method: 'GET',\n      headers: {\n        'token': Cookies.get(\"token\")\n      }\n    };\n    axios.get(url, options).then(response => {\n      //console.log(response.json({message: \"request received!\", response}));\n      //this.state.mail = response.json({message: \"request received!\", response}).parse();\n      //console.log (response.json());\n      //this.state.mail = response.data.firstname;\n      //console.log(response.data);\n      //this.setUsername(response.data.firstname)\n      //this.setState(resp);\n      //console.log(response.data);\n      this.setState({\n        profilepic: response.data.profilepic\n      });\n      this.setState({\n        mail: response.data.firstname\n      });\n    });\n    /*fetch('http://localhost:8080/me')\n        .then(response => {\n            if (!response.ok) {\n                throw Error('Network request failed.')\n            }\n            return response;\n        })\n        .then(data => data.json())\n        .then(data => {\n            this.setState({\n                persons: data\n            });\n            console.log('parsed json', data);            \n        }, (ex) => {\n            this.setState({\n                requestError : true\n            });\n            console.log('parsing failed', ex)\n        })*/\n\n    /*axios.get('http://localhost:8080/me',\n    { headers: { 'token':  Cookies.get(\"token\") } }\n    ).then((data)=>{\n        console.log('data comming',data);\n    }).catch((error)=>{\n        console.log('error comming',error);\n    });*/\n  }\n\n  getDoc() {\n    if (this.state.isDoc == \"1\") return \"welcome doctor :)\";else return \"welcome patient :)\";\n  }\n\n  checkLogin(mail) {\n    return mail();\n    /*try {\n        const decoded = jwt.verify(this.state.token, \"randomString\");\n        //return \"it is: \" + decoded.user;\n        const user = User.findById(req.user.id);\n    } catch (e) {\n        console.error(e);\n    }*/\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"ul\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 13\n      }\n    }, \"getDoc();\");\n  }\n\n}\n\nexport default Me;","map":{"version":3,"sources":["/Applications/XAMPP/xamppfiles/htdocs/Projekte/MediComm/MediComm/MediComm/reactapp/src/content/Me.js"],"names":["React","Output","App","Cookies","jwt","axios","Me","Component","constructor","username","state","profilepic","mail","firstname","lastname","address","phone","fax","url","fieldofwork","insurednumber","healthinsurance","isDoc","defaults","headers","common","get","handleSubmit","bind","updateData","event","setState","name","target","value","sendForm","preventDefault","setUsername","console","log","componentDidMount","options","method","then","response","data","getDoc","checkLogin","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Output from './Output';\nimport App from '../App';\nimport Cookies from 'js-cookie';\nimport jwt from 'jsonwebtoken';\nimport axios from 'axios';\n\nclass Me extends React.Component{\n\n    username = \"test\";\n\n    constructor(){\n        super();\n        this.state = {\n            profilepic: '',\n            mail: '',\n            firstname: '',\n            lastname: '',\n            address: '',\n            phone: '',\n            mail: '',\n            fax: '',\n            url: '',\n            fieldofwork: '',\n            insurednumber: '',\n            healthinsurance: '',\n            insurednumber: '',\n            isDoc: ''\n        };\n        \n        //always passing our token so the site can verify wether we're logged in or not\n        axios.defaults.headers.common['token'] = Cookies.get(\"token\");\n        \n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.updateData = this.updateData.bind(this);\n          \n    }\n\n    updateData(event) {\n        /*var newItem = {\"id\":5, \"name\":name}\n        this.setState(state => {\n            const data = state.data.concat(newItem);\n            return data, newItem;\n        });*/\n        this.setState({name: event.target.value});\n    }\n\n    handleSubmit(event)\n    {\n        this.setState({sendForm: this.state.name});\n        event.preventDefault();\n    }\n\n    setUsername(username)\n    {\n        this.username = username;\n        console.log(\"username: \" + username);\n    }\n\n    //using axios in here to get access to the response of our backend in our frontend\n    componentDidMount () {\n        const url = 'http://localhost:8080/me';\n        const options = {\n        method: 'GET',\n        headers: {\n            'token': Cookies.get(\"token\"),\n        },\n        };\n\n        axios.get(url, options)\n        .then(response => {\n            //console.log(response.json({message: \"request received!\", response}));\n            //this.state.mail = response.json({message: \"request received!\", response}).parse();\n            //console.log (response.json());\n            //this.state.mail = response.data.firstname;\n            //console.log(response.data);\n            //this.setUsername(response.data.firstname)\n            //this.setState(resp);\n            //console.log(response.data);\n            this.setState({profilepic: response.data.profilepic});\n            this.setState({mail: response.data.firstname});\n        });\n\n        \n\n        /*fetch('http://localhost:8080/me')\n            .then(response => {\n                if (!response.ok) {\n                    throw Error('Network request failed.')\n                }\n                return response;\n            })\n            .then(data => data.json())\n            .then(data => {\n                this.setState({\n                    persons: data\n                });\n                console.log('parsed json', data);            \n            }, (ex) => {\n                this.setState({\n                    requestError : true\n                });\n                console.log('parsing failed', ex)\n            })*/\n\n        /*axios.get('http://localhost:8080/me',\n        { headers: { 'token':  Cookies.get(\"token\") } }\n        ).then((data)=>{\n            console.log('data comming',data);\n        }).catch((error)=>{\n            console.log('error comming',error);\n        });*/\n    }  \n\n    getDoc()\n    {\n        if(this.state.isDoc == \"1\")\n            return(\"welcome doctor :)\");\n        else\n            return(\"welcome patient :)\");\n    }\n\n    checkLogin(mail)\n    {\n        \n            return mail()\n\n            /*try {\n                const decoded = jwt.verify(this.state.token, \"randomString\");\n                //return \"it is: \" + decoded.user;\n                const user = User.findById(req.user.id);\n            } catch (e) {\n                console.error(e);\n            }*/\n    }\n\n    render(){\n\n\n        \n        \n        return(\n            <ul>\n                \n                getDoc();\n            \n            </ul>\n        );\n    }\n}\n\nexport default Me;"]},"metadata":{},"sourceType":"module"}