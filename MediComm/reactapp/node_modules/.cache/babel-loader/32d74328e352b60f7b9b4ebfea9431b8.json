{"ast":null,"code":"import _classCallCheck from\"/Applications/XAMPP/xamppfiles/htdocs/Projekte/MediComm/MediComm/MediComm/reactapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Applications/XAMPP/xamppfiles/htdocs/Projekte/MediComm/MediComm/MediComm/reactapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Applications/XAMPP/xamppfiles/htdocs/Projekte/MediComm/MediComm/MediComm/reactapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Applications/XAMPP/xamppfiles/htdocs/Projekte/MediComm/MediComm/MediComm/reactapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Applications/XAMPP/xamppfiles/htdocs/Projekte/MediComm/MediComm/MediComm/reactapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import Output from'./Output';import App from'../App';import Cookies from'js-cookie';import jwt from'jsonwebtoken';import axios from'axios';var Me=/*#__PURE__*/function(_React$Component){_inherits(Me,_React$Component);var _super=_createSuper(Me);function Me(){var _this;_classCallCheck(this,Me);_this=_super.call(this);_this.username=\"test\";_this.state={count:0,data:[{\"id\":1,\"name\":\"Schmidt\"},{\"id\":2,\"name\":\"chmidt\"},{\"id\":3,\"name\":\"hmidt\"},{\"id\":4,\"name\":\"midt\"}],token:Cookies.get(\"token\"),persons:[1,2,3],mail:[]};axios.defaults.headers.common['token']=Cookies.get(\"token\");_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));_this.updateData=_this.updateData.bind(_assertThisInitialized(_this));return _this;}_createClass(Me,[{key:\"updateData\",value:function updateData(event){/*var newItem = {\"id\":5, \"name\":name}\n        this.setState(state => {\n            const data = state.data.concat(newItem);\n            return data, newItem;\n        });*/this.setState({name:event.target.value});}},{key:\"handleSubmit\",value:function handleSubmit(event){this.setState({sendForm:this.state.name});event.preventDefault();}},{key:\"setUsername\",value:function setUsername(username){this.username=username;console.log(\"username: \"+username);}},{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var url='http://localhost:8080/me';var options={method:'GET',headers:{'token':Cookies.get(\"token\")}};axios.get(url,options).then(function(response){//console.log(response.json({message: \"request received!\", response}));\n//this.state.mail = response.json({message: \"request received!\", response}).parse();\n//console.log (response.json());\n//this.state.mail = response.data.firstname;\n//console.log(response.data);\n//this.setUsername(response.data.firstname)\n//this.setState(resp);\n//console.log(response.data);\n_this2.setState({mail:response.data.firstname});});/*fetch('http://localhost:8080/me')\n            .then(response => {\n                if (!response.ok) {\n                    throw Error('Network request failed.')\n                }\n                return response;\n            })\n            .then(data => data.json())\n            .then(data => {\n                this.setState({\n                    persons: data\n                });\n                console.log('parsed json', data);            \n            }, (ex) => {\n                this.setState({\n                    requestError : true\n                });\n                console.log('parsing failed', ex)\n            })*/ /*axios.get('http://localhost:8080/me',\n        { headers: { 'token':  Cookies.get(\"token\") } }\n        ).then((data)=>{\n            console.log('data comming',data);\n        }).catch((error)=>{\n            console.log('error comming',error);\n        });*/}},{key:\"checkLogin\",value:function checkLogin(mail){return mail();/*try {\n                const decoded = jwt.verify(this.state.token, \"randomString\");\n                //return \"it is: \" + decoded.user;\n                const user = User.findById(req.user.id);\n            } catch (e) {\n                console.error(e);\n            }*/}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"ul\",null,this.state.mail,\" it is :)\");}}]);return Me;}(React.Component);export default Me;","map":{"version":3,"sources":["/Applications/XAMPP/xamppfiles/htdocs/Projekte/MediComm/MediComm/MediComm/reactapp/src/content/Me.js"],"names":["React","Output","App","Cookies","jwt","axios","Me","username","state","count","data","token","get","persons","mail","defaults","headers","common","handleSubmit","bind","updateData","event","setState","name","target","value","sendForm","preventDefault","console","log","url","options","method","then","response","firstname","Component"],"mappings":"6+BAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CACA,MAAOC,CAAAA,GAAP,KAAgB,QAAhB,CACA,MAAOC,CAAAA,OAAP,KAAoB,WAApB,CACA,MAAOC,CAAAA,GAAP,KAAgB,cAAhB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,GAEMC,CAAAA,E,oGAIF,aAAa,oCACT,wBADS,MAFbC,QAEa,CAFF,MAEE,CAET,MAAKC,KAAL,CAAa,CACTC,KAAK,CAAE,CADE,CAETC,IAAI,CAAE,CACF,CAAC,KAAK,CAAN,CAAS,OAAO,SAAhB,CADE,CAEF,CAAC,KAAK,CAAN,CAAS,OAAO,QAAhB,CAFE,CAGF,CAAC,KAAK,CAAN,CAAS,OAAO,OAAhB,CAHE,CAIF,CAAC,KAAK,CAAN,CAAS,OAAO,MAAhB,CAJE,CAFG,CAQTC,KAAK,CAAER,OAAO,CAACS,GAAR,CAAY,OAAZ,CARE,CASTC,OAAO,CAAE,CAAC,CAAD,CAAI,CAAJ,CAAO,CAAP,CATA,CAUTC,IAAI,CAAE,EAVG,CAAb,CAaAT,KAAK,CAACU,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,OAA9B,EAAyCd,OAAO,CAACS,GAAR,CAAY,OAAZ,CAAzC,CAGA,MAAKM,YAAL,CAAoB,MAAKA,YAAL,CAAkBC,IAAlB,+BAApB,CACA,MAAKC,UAAL,CAAkB,MAAKA,UAAL,CAAgBD,IAAhB,+BAAlB,CAnBS,aAqBZ,C,6DAEUE,K,CAAO,CACd;;;;aAKA,KAAKC,QAAL,CAAc,CAACC,IAAI,CAAEF,KAAK,CAACG,MAAN,CAAaC,KAApB,CAAd,EACH,C,kDAEYJ,K,CACb,CACI,KAAKC,QAAL,CAAc,CAACI,QAAQ,CAAE,KAAKlB,KAAL,CAAWe,IAAtB,CAAd,EACAF,KAAK,CAACM,cAAN,GACH,C,gDAEWpB,Q,CACZ,CACI,KAAKA,QAAL,CAAgBA,QAAhB,CACAqB,OAAO,CAACC,GAAR,CAAY,aAAetB,QAA3B,EACH,C,6DAEoB,iBACjB,GAAMuB,CAAAA,GAAG,CAAG,0BAAZ,CACA,GAAMC,CAAAA,OAAO,CAAG,CAChBC,MAAM,CAAE,KADQ,CAEhBhB,OAAO,CAAE,CACL,QAASb,OAAO,CAACS,GAAR,CAAY,OAAZ,CADJ,CAFO,CAAhB,CAOAP,KAAK,CAACO,GAAN,CAAUkB,GAAV,CAAeC,OAAf,EACCE,IADD,CACM,SAAAC,QAAQ,CAAI,CACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAI,CAACZ,QAAL,CAAc,CAACR,IAAI,CAAEoB,QAAQ,CAACxB,IAAT,CAAcyB,SAArB,CAAd,EACH,CAXD,EAeA;;;;;;;;;;;;;;;;;;gBAxBiB,CA4CjB;;;;;;aAOH,C,8CAEUrB,I,CACX,CAEQ,MAAOA,CAAAA,IAAI,EAAX,CAEA;;;;;;eAOP,C,uCAEO,CAKJ,mBACI,8BAEM,KAAKN,KAAL,CAAWM,IAFjB,aADJ,CAOH,C,gBA/HYd,KAAK,CAACoC,S,EAkIvB,cAAe9B,CAAAA,EAAf","sourcesContent":["import React from 'react';\nimport Output from './Output';\nimport App from '../App';\nimport Cookies from 'js-cookie';\nimport jwt from 'jsonwebtoken';\nimport axios from 'axios';\n\nclass Me extends React.Component{\n\n    username = \"test\";\n\n    constructor(){\n        super();\n        this.state = {\n            count: 0,\n            data: [\n                {\"id\":1, \"name\":\"Schmidt\"},\n                {\"id\":2, \"name\":\"chmidt\"},\n                {\"id\":3, \"name\":\"hmidt\"},\n                {\"id\":4, \"name\":\"midt\"},\n            ],\n            token: Cookies.get(\"token\"),\n            persons: [1, 2, 3],\n            mail: []\n        };\n        \n        axios.defaults.headers.common['token'] = Cookies.get(\"token\");\n        \n\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.updateData = this.updateData.bind(this);\n          \n    }\n\n    updateData(event) {\n        /*var newItem = {\"id\":5, \"name\":name}\n        this.setState(state => {\n            const data = state.data.concat(newItem);\n            return data, newItem;\n        });*/\n        this.setState({name: event.target.value});\n    }\n\n    handleSubmit(event)\n    {\n        this.setState({sendForm: this.state.name});\n        event.preventDefault();\n    }\n\n    setUsername(username)\n    {\n        this.username = username;\n        console.log(\"username: \" + username);\n    }\n\n    componentDidMount () {\n        const url = 'http://localhost:8080/me';\n        const options = {\n        method: 'GET',\n        headers: {\n            'token': Cookies.get(\"token\"),\n        },\n        };\n\n        axios.get(url, options)\n        .then(response => {\n            //console.log(response.json({message: \"request received!\", response}));\n            //this.state.mail = response.json({message: \"request received!\", response}).parse();\n            //console.log (response.json());\n            //this.state.mail = response.data.firstname;\n            //console.log(response.data);\n            //this.setUsername(response.data.firstname)\n            //this.setState(resp);\n            //console.log(response.data);\n            this.setState({mail: response.data.firstname});\n        });\n\n        \n\n        /*fetch('http://localhost:8080/me')\n            .then(response => {\n                if (!response.ok) {\n                    throw Error('Network request failed.')\n                }\n                return response;\n            })\n            .then(data => data.json())\n            .then(data => {\n                this.setState({\n                    persons: data\n                });\n                console.log('parsed json', data);            \n            }, (ex) => {\n                this.setState({\n                    requestError : true\n                });\n                console.log('parsing failed', ex)\n            })*/\n\n        /*axios.get('http://localhost:8080/me',\n        { headers: { 'token':  Cookies.get(\"token\") } }\n        ).then((data)=>{\n            console.log('data comming',data);\n        }).catch((error)=>{\n            console.log('error comming',error);\n        });*/\n    }  \n\n    checkLogin(mail)\n    {\n        \n            return mail()\n\n            /*try {\n                const decoded = jwt.verify(this.state.token, \"randomString\");\n                //return \"it is: \" + decoded.user;\n                const user = User.findById(req.user.id);\n            } catch (e) {\n                console.error(e);\n            }*/\n    }\n\n    render(){\n\n\n        \n        \n        return(\n            <ul>\n            \n                { this.state.mail } it is :)\n            \n            </ul>\n        );\n    }\n}\n\nexport default Me;"]},"metadata":{},"sourceType":"module"}