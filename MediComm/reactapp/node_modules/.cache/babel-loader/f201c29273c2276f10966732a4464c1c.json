{"ast":null,"code":"var _jsxFileName = \"/Applications/XAMPP/xamppfiles/htdocs/Projekte/MediComm/MediComm/MediComm/reactapp/src/content/Me.js\";\nimport React from 'react';\nimport Output from './Output';\nimport App from '../App';\nimport Cookies from 'js-cookie';\nimport jwt from 'jsonwebtoken';\nimport axios from 'axios';\n\nclass Me extends React.Component {\n  constructor() {\n    super();\n    this.username = \"test\";\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      const {\n        mail,\n        firstname,\n        lastname,\n        password,\n        address,\n        agreement,\n        insurednumber,\n        healthinsurance\n      } = this.state;\n      const user = {\n        mail,\n        firstname,\n        lastname,\n        password,\n        address,\n        agreement,\n        insurednumber,\n        healthinsurance\n      };\n      console.log(\"mail: \" + mail); //using axios to post\n\n      /*axios\n      .post('http://localhost:8080/pat-reg-sent', user)\n          .then(() => console.log('User registered :))'))\n          .catch(err => {\n              console.error(err);\n      });*/\n\n      /*this.setState({sendForm: this.state.name});\n      event.preventDefault();*/\n    };\n\n    this.state = {\n      profilepic: '',\n      mail: '',\n      firstname: '',\n      lastname: '',\n      address: '',\n      phone: '',\n      mail: '',\n      fax: '',\n      url: '',\n      fieldofwork: '',\n      insurednumber: '',\n      healthinsurance: '',\n      insurednumber: '',\n      isDoc: ''\n    }; //always passing our token so the site can verify wether we're logged in or not\n\n    axios.defaults.headers.common['token'] = Cookies.get(\"token\");\n  }\n\n  setUsername(username) {\n    this.username = username;\n    console.log(\"username: \" + username);\n  } //using axios in here to get access to the response of our backend in our frontend\n\n\n  componentDidMount() {\n    const url = 'http://localhost:8080/me';\n    const options = {\n      method: 'GET',\n      headers: {\n        'token': Cookies.get(\"token\")\n      }\n    };\n    axios.get(url, options).then(response => {\n      //console.log(response.json({message: \"request received!\", response}));\n      //this.state.mail = response.json({message: \"request received!\", response}).parse();\n      //console.log (response.json());\n      //this.state.mail = response.data.firstname;\n      //console.log(response.data);\n      //this.setUsername(response.data.firstname)\n      //this.setState(resp);\n      //console.log(response.data);\n      this.setState({\n        profilepic: response.data.profilepic\n      });\n      this.setState({\n        mail: response.data.firstname\n      });\n    });\n    /*fetch('http://localhost:8080/me')\n        .then(response => {\n            if (!response.ok) {\n                throw Error('Network request failed.')\n            }\n            return response;\n        })\n        .then(data => data.json())\n        .then(data => {\n            this.setState({\n                persons: data\n            });\n            console.log('parsed json', data);            \n        }, (ex) => {\n            this.setState({\n                requestError : true\n            });\n            console.log('parsing failed', ex)\n        })*/\n\n    /*axios.get('http://localhost:8080/me',\n    { headers: { 'token':  Cookies.get(\"token\") } }\n    ).then((data)=>{\n        console.log('data comming',data);\n    }).catch((error)=>{\n        console.log('error comming',error);\n    });*/\n  }\n\n  isDoc() {\n    if (this.state.isDoc == \"1\") return true;else return false;\n  }\n\n  docContent() {\n    return \"\";\n  }\n\n  patientContent() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 13\n      }\n    }, \"Profileedit\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"bg-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mail\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input_field\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Eemail\",\n      value: this.state.firstname,\n      className: \"input\",\n      name: \"mail\",\n      onChange: this.handleInputChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"i\", {\n      className: \"mail\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"vorName\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input_field\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      name: \"firstname\",\n      type: \"text\",\n      placeholder: \"Vorname\",\n      className: \"input\",\n      onChange: this.handleInputChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"i\", {\n      className: \"name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"nachName\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input_field\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Nachname\",\n      className: \"input\",\n      name: \"lastname\",\n      onChange: this.handleInputChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"i\", {\n      className: \"name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pass\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input_field\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      name: \"password\",\n      type: \"password\",\n      placeholder: \"Passwort\",\n      className: \"input\",\n      onChange: this.handleInputChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"i\", {\n      className: \"enlock\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"anschrift\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input_field\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Anschrift\",\n      className: \"input\",\n      name: \"address\",\n      onChange: this.handleInputChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"i\", {\n      className: \"anschrift\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"kk\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input_field\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      list: \"kk\",\n      placeholder: \"Krankenkasse\",\n      className: \"input\",\n      name: \"healthinsurance\",\n      onChange: this.handleInputChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"datalist\", {\n      id: \"kk\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"AOK\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"Knappschaft\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"Innungskrankenkasse\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"DAK Gesundheit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"option\", {\n      value: \" BARMER\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 29\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"verNr\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input_field\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Versichertennummer\",\n      className: \"input\",\n      name: \"insurednumber\",\n      onChange: this.handleInputChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"i\", {\n      className: \"verNr\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 21\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"agreement\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"checkbox\",\n      name: \"agreement\",\n      onChange: this.handleInputChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 21\n      }\n    }), \"Please accept the \", /*#__PURE__*/React.createElement(\"a\", {\n      href: \"res/DSGVO\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 114\n      }\n    }, \"License and User Agreement\")), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"submit\",\n      className: \"btn btn-primary\",\n      value: \"Submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 17\n      }\n    })));\n  }\n\n  getContent() {\n    if (this.isDoc()) return this.docContent();else return this.patientContent();\n  }\n\n  checkLogin(mail) {\n    return mail();\n    /*try {\n        const decoded = jwt.verify(this.state.token, \"randomString\");\n        //return \"it is: \" + decoded.user;\n        const user = User.findById(req.user.id);\n    } catch (e) {\n        console.error(e);\n    }*/\n  }\n\n  render() {\n    return this.getContent();\n  }\n\n}\n\nexport default Me;","map":{"version":3,"sources":["/Applications/XAMPP/xamppfiles/htdocs/Projekte/MediComm/MediComm/MediComm/reactapp/src/content/Me.js"],"names":["React","Output","App","Cookies","jwt","axios","Me","Component","constructor","username","handleSubmit","e","preventDefault","mail","firstname","lastname","password","address","agreement","insurednumber","healthinsurance","state","user","console","log","profilepic","phone","fax","url","fieldofwork","isDoc","defaults","headers","common","get","setUsername","componentDidMount","options","method","then","response","setState","data","docContent","patientContent","handleInputChange","getContent","checkLogin","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Output from './Output';\nimport App from '../App';\nimport Cookies from 'js-cookie';\nimport jwt from 'jsonwebtoken';\nimport axios from 'axios';\n\nclass Me extends React.Component{\n\n    username = \"test\";\n\n    constructor(){\n        super();\n        this.state = {\n            profilepic: '',\n            mail: '',\n            firstname: '',\n            lastname: '',\n            address: '',\n            phone: '',\n            mail: '',\n            fax: '',\n            url: '',\n            fieldofwork: '',\n            insurednumber: '',\n            healthinsurance: '',\n            insurednumber: '',\n            isDoc: ''\n        };\n        \n        //always passing our token so the site can verify wether we're logged in or not\n        axios.defaults.headers.common['token'] = Cookies.get(\"token\");\n        \n          \n    }\n\n    \n\n    handleSubmit = e =>\n    {\n        e.preventDefault();\n        const {mail, firstname, lastname, password, address, agreement, insurednumber, healthinsurance} = this.state;\n\n        const user = {\n            mail,\n            firstname,\n            lastname,\n            password,\n            address,\n            agreement,\n            insurednumber,\n            healthinsurance\n        };\n        console.log(\"mail: \" + mail);\n        \n        //using axios to post\n        /*axios\n        .post('http://localhost:8080/pat-reg-sent', user)\n            .then(() => console.log('User registered :))'))\n            .catch(err => {\n                console.error(err);\n        });*/\n\n\n        /*this.setState({sendForm: this.state.name});\n        event.preventDefault();*/\n    }\n\n    setUsername(username)\n    {\n        this.username = username;\n        console.log(\"username: \" + username);\n    }\n\n    //using axios in here to get access to the response of our backend in our frontend\n    componentDidMount () {\n        const url = 'http://localhost:8080/me';\n        const options = {\n        method: 'GET',\n        headers: {\n            'token': Cookies.get(\"token\"),\n        },\n        };\n\n        axios.get(url, options)\n        .then(response => {\n            //console.log(response.json({message: \"request received!\", response}));\n            //this.state.mail = response.json({message: \"request received!\", response}).parse();\n            //console.log (response.json());\n            //this.state.mail = response.data.firstname;\n            //console.log(response.data);\n            //this.setUsername(response.data.firstname)\n            //this.setState(resp);\n            //console.log(response.data);\n            this.setState({profilepic: response.data.profilepic});\n            this.setState({mail: response.data.firstname});\n        });\n\n        \n\n        /*fetch('http://localhost:8080/me')\n            .then(response => {\n                if (!response.ok) {\n                    throw Error('Network request failed.')\n                }\n                return response;\n            })\n            .then(data => data.json())\n            .then(data => {\n                this.setState({\n                    persons: data\n                });\n                console.log('parsed json', data);            \n            }, (ex) => {\n                this.setState({\n                    requestError : true\n                });\n                console.log('parsing failed', ex)\n            })*/\n\n        /*axios.get('http://localhost:8080/me',\n        { headers: { 'token':  Cookies.get(\"token\") } }\n        ).then((data)=>{\n            console.log('data comming',data);\n        }).catch((error)=>{\n            console.log('error comming',error);\n        });*/\n    }  \n\n    isDoc()\n    {\n        if(this.state.isDoc == \"1\")\n            return true;\n        else\n            return false;\n    }\n\n    docContent()\n    {\n        return(\"\");\n    }\n\n    patientContent()\n    {\n        return(\n        <div>\n            <div className=\"title\">\n                Profileedit\n            </div>\n\n\n            <div className=\"bg-right\"></div>\n\n            <form onSubmit={this.handleSubmit}>\n                \n                <div className=\"mail\">\n                    <div className=\"input_field\">\n                        <input type=\"text\" placeholder=\"Eemail\" value={this.state.firstname} className=\"input\" name=\"mail\" onChange={this.handleInputChange}/>\n                        <i className=\"mail\"></i>\n                    </div>\n                </div>\n\n                <div className=\"vorName\">\n                    <div className=\"input_field\">\n                        <input name=\"firstname\" type=\"text\" placeholder=\"Vorname\" className=\"input\" onChange={this.handleInputChange}/>\n                        <i className=\"name\"></i>\n                    </div>\n\n                </div>\n\n                <div className=\"nachName\">\n                    <div className=\"input_field\">\n                        <input type=\"text\" placeholder=\"Nachname\" className=\"input\" name=\"lastname\" onChange={this.handleInputChange}/>\n                        <i className=\"name\"></i>\n                    </div>\n                </div>\n\n                <div className=\"pass\">\n                    <div className=\"input_field\">\n                        <input name=\"password\" type=\"password\" placeholder=\"Passwort\" className=\"input\" onChange={this.handleInputChange}/>\n                        <i className=\"enlock\"></i>\n                    </div>\n                </div>\n\n                <div className=\"anschrift\">\n                    <div className=\"input_field\">\n                        <input type=\"text\" placeholder=\"Anschrift\" className=\"input\" name=\"address\" onChange={this.handleInputChange}/>\n                        <i className=\"anschrift\"></i>\n                    </div>\n                </div>\n\n\n                <div className=\"kk\">\n                    <div className=\"input_field\">\n                        <input list=\"kk\" placeholder=\"Krankenkasse\" className=\"input\" name=\"healthinsurance\" onChange={this.handleInputChange}/>\n                        <datalist id=\"kk\">\n                            <option value=\"AOK\" />\n                            <option value=\"Knappschaft\" />\n                            <option value=\"Innungskrankenkasse\" />\n                            <option value=\"DAK Gesundheit\" />\n                            <option value=\" BARMER\" />\n                        </datalist>\n                    </div>\n                </div>\n\n                <div className=\"verNr\">\n                <div className=\"input_field\">\n                    <input type=\"text\" placeholder=\"Versichertennummer\" className=\"input\" name=\"insurednumber\" onChange={this.handleInputChange}/>\n                    <i className=\"verNr\"></i>\n                </div>\n                </div>\n\n                <div id=\"agreement\">\n                    <input type=\"checkbox\" name=\"agreement\" onChange={this.handleInputChange}/>Please accept the <a href=\"res/DSGVO\">License and User Agreement</a>\n                </div>\n                \n                <input type=\"submit\" className=\"btn btn-primary\" value=\"Submit\" />\n                \n            </form>\n        </div>\n\n        )\n    }\n\n    getContent()\n    {\n        if(this.isDoc())\n            return this.docContent();\n        else\n            return this.patientContent();\n    }\n\n    checkLogin(mail)\n    {\n        \n            return mail()\n\n            /*try {\n                const decoded = jwt.verify(this.state.token, \"randomString\");\n                //return \"it is: \" + decoded.user;\n                const user = User.findById(req.user.id);\n            } catch (e) {\n                console.error(e);\n            }*/\n    }\n\n    render(){\n\n        return this.getContent();\n    }\n}\n\nexport default Me;"]},"metadata":{},"sourceType":"module"}